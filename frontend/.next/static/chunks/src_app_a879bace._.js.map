{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/hemantmehta/Documents/stockmarketanalysis/frontend/src/app/stockDataAPI.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = process.env.NEXT_PUBLIC_INDIAN_API_KEY as string;\n\nconst fetchStockData = async (stockName: string, periodWise: string) => {\n  const options = {\n    method: 'GET',\n    url: 'https://stock.indianapi.in/historical_data',\n    params: {\n      stock_name: stockName,\n      period: periodWise,\n      filter: 'price', // Keep this as per your original intention\n    },\n    headers: {\n      'X-Api-Key': API_KEY,\n    },\n  };\n\n  try {\n    const response = await axios.request(options);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching historical stock data:', error);\n    throw error;\n  }\n};\n\nexport default fetchStockData;\n"],"names":[],"mappings":";;;AAEgB;AAFhB;;AAEA,MAAM;AAEN,MAAM,iBAAiB,OAAO,WAAmB;IAC/C,MAAM,UAAU;QACd,QAAQ;QACR,KAAK;QACL,QAAQ;YACN,YAAY;YACZ,QAAQ;YACR,QAAQ;QACV;QACA,SAAS;YACP,aAAa;QACf;IACF;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QACrC,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;QACvD,MAAM;IACR;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/hemantmehta/Documents/stockmarketanalysis/frontend/src/app/stockNameAPI.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = process.env.NEXT_PUBLIC_INDIAN_API_KEY as string;\n\nconst fetchStockDetails = async (stockName: string) => {\n  const options = {\n    method: 'GET',\n    url: 'https://stock.indianapi.in/stock',\n    params: { name: stockName },\n    headers: {\n      'X-Api-Key': API_KEY\n    }\n  };\n\n  try {\n    const response = await axios.request(options);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching stock details:', error);\n    throw error;\n  }\n};\n\nexport default fetchStockDetails;\n"],"names":[],"mappings":";;;AAEgB;AAFhB;;AAEA,MAAM;AAEN,MAAM,oBAAoB,OAAO;IAC/B,MAAM,UAAU;QACd,QAAQ;QACR,KAAK;QACL,QAAQ;YAAE,MAAM;QAAU;QAC1B,SAAS;YACP,aAAa;QACf;IACF;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,OAAO,CAAC;QACrC,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,MAAM;IACR;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/hemantmehta/Documents/stockmarketanalysis/frontend/src/app/HoldStock/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport fetchStockData from \"../stockDataAPI\";\nimport fetchStockDetails from \"../stockNameAPI\";\nimport { FaChartLine, FaThLarge, FaClock, FaRupeeSign } from \"react-icons/fa\";\n// import { IoTrendingUp, IoTrendingDown } from \"react-icons/io5\";\n\nconst HoldStock = () => {\n  const [form, setForm] = useState({\n    stock: \"\",\n    price: \"\",\n    period: \"\"\n  });\n  const [result, setResult] = useState<string | null>(null);\n  const [targetPrices, setTargetPrices] = useState<{short_term?: number, medium_term?: number, long_term?: number} | null>(null);\n  const [recommendation, setRecommendation] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  // Converts days to the closest periodWiseOption\n  const getPeriodWiseFromDays = (days: number) => {\n    if (days <= 30) return \"1m\";\n    if (days <= 180) return \"6m\";\n    if (days <= 365) return \"1yr\";\n    if (days <= 3 * 365) return \"3yr\";\n    if (days <= 5 * 365) return \"5yr\";\n    if (days <= 10 * 365) return \"10yr\";\n    return \"max\";\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setResult(null);\n    setTargetPrices(null);\n    setRecommendation(null);\n    try {\n      // Convert user days to periodWise string\n      const periodWise = getPeriodWiseFromDays(parseInt(form.period, 10));\n      const historical = await fetchStockData(form.stock, periodWise);\n      // Extract price array from API response (adjust as per actual response structure)\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const prices = historical?.data?.map((item: any) => item.close) || [];\n      \n      // Fetch current stock price\n      const stockDetails = await fetchStockDetails(form.stock);\n      const currentPrice = stockDetails?.currentPrice?.NSE || stockDetails?.currentPrice?.BSE || 0;\n      \n      const response = await fetch(\"http://localhost:8000/hold-advice\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          stock: form.stock,\n          buy_price: parseFloat(form.price),\n          current_price: currentPrice,\n          holding_period: parseInt(form.period, 10),\n          prices: prices\n        })\n      });\n      const data = await response.json();\n      setResult(data.advice || \"No advice returned.\");\n      setTargetPrices(data.target_prices || null);\n      setRecommendation(data.recommendation || null);\n    } catch (error) {\n      setResult(\"Error fetching recommendation.\"+error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 text-white\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-2xl mx-auto\">\n          {/* Header */}\n          <div className=\"text-center mb-8\">\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4\">\n              <FaChartLine className=\"text-2xl text-white\" />\n            </div>\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\n              Stock Holding Advisor\n            </h1>\n            <p className=\"text-gray-300 mt-2\">Get AI-powered recommendations for your investments</p>\n          </div>\n\n          {/* Main Form Card */}\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20\">\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Stock Name Input */}\n              <div className=\"space-y-2\">\n                <label className=\"flex items-center text-sm font-semibold text-gray-200\">\n                  <FaChartLine className=\"mr-2 text-purple-400\" />\n                  Stock Symbol\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"stock\"\n                  value={form.stock}\n                  onChange={handleChange}\n                  placeholder=\"e.g., RELIANCE, TCS, INFY\"\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300\"\n                  required\n                />\n              </div>\n\n              {/* Buy Price Input */}\n              <div className=\"space-y-2\">\n                <label className=\"flex items-center text-sm font-semibold text-gray-200\">\n                  <FaRupeeSign className=\"mr-2 text-green-400\" />\n                  Buy Price\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"price\"\n                  value={form.price}\n                  onChange={handleChange}\n                  placeholder=\"Enter your purchase price\"\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300\"\n                  required\n                />\n              </div>\n\n              {/* Holding Period Input */}\n              <div className=\"space-y-2\">\n                <label className=\"flex items-center text-sm font-semibold text-gray-200\">\n                  <FaClock className=\"mr-2 text-blue-400\" />\n                  Holding Period (Days)\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"period\"\n                  value={form.period}\n                  onChange={handleChange}\n                  placeholder=\"How long do you plan to hold?\"\n                  className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"\n                  required\n                />\n              </div>\n\n              {/* Submit Button */}\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 disabled:scale-100 shadow-lg\"\n              >\n                {loading ? (\n                  <div className=\"flex items-center justify-center\">\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                    Analyzing Market Data...\n                  </div>\n                ) : (\n                  <div className=\"flex items-center justify-center\">\n                    <FaThLarge className=\"mr-2\" />\n                    Get AI Recommendation\n                  </div>\n                )}\n              </button>\n            </form>\n          </div>\n\n          {/* Results Section */}\n          {result && (\n            <div className=\"mt-8 space-y-4 animate-fadeIn\">\n              {/* Recommendation Card */}\n              <div className=\"bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-lg rounded-2xl p-6 border border-white/20 shadow-lg\">\n                <div className=\"text-center\">\n                  <div className=\"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full mb-4\">\n                    <FaChartLine className=\"text-xl text-white\" />\n                  </div>\n                  <h3 className=\"text-xl font-semibold mb-2 text-gray-200\">AI Recommendation</h3>\n                  <p className=\"text-2xl font-bold text-white\">{result.replace('Recommendation: ', '')}</p>\n                </div>\n              </div>\n\n              {/* Target Price Card - Only show for Hold recommendations */}\n              {recommendation === \"Hold\" && targetPrices && (\n                <div className=\"bg-gradient-to-r from-purple-500/20 to-pink-500/20 backdrop-blur-lg rounded-2xl p-6 border border-white/20 shadow-lg\">\n                  <div className=\"text-center\">\n                    <div className=\"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4\">\n                      <FaThLarge className=\"text-xl text-white\" />\n                    </div>\n                    <h3 className=\"text-xl font-semibold mb-4 text-gray-200\">Target Price Projections</h3>\n                    \n                    {/* Short Term Target */}\n                    {targetPrices.short_term && (\n                      <div className=\"mb-4 p-4 bg-white/10 rounded-xl\">\n                        <h4 className=\"text-sm font-semibold text-blue-400 mb-1\">Short Term (1-3 months)</h4>\n                        <p className=\"text-2xl font-bold text-white\">₹ {targetPrices.short_term}</p>\n                        <p className=\"text-xs text-gray-300\">\n                          Potential gain: \n                          <span className=\"text-green-400 font-semibold ml-1\">\n                            {((targetPrices.short_term - parseFloat(form.price)) / parseFloat(form.price) * 100).toFixed(2)}%\n                          </span>\n                        </p>\n                      </div>\n                    )}\n                    \n                    {/* Medium Term Target */}\n                    {targetPrices.medium_term && (\n                      <div className=\"mb-4 p-4 bg-white/10 rounded-xl\">\n                        <h4 className=\"text-sm font-semibold text-yellow-400 mb-1\">Medium Term (3-6 months)</h4>\n                        <p className=\"text-2xl font-bold text-white\">₹ {targetPrices.medium_term}</p>\n                        <p className=\"text-xs text-gray-300\">\n                          Potential gain: \n                          <span className=\"text-green-400 font-semibold ml-1\">\n                            {((targetPrices.medium_term - parseFloat(form.price)) / parseFloat(form.price) * 100).toFixed(2)}%\n                          </span>\n                        </p>\n                      </div>\n                    )}\n                    \n                    {/* Long Term Target */}\n                    {targetPrices.long_term && (\n                      <div className=\"p-4 bg-white/10 rounded-xl\">\n                        <h4 className=\"text-sm font-semibold text-green-400 mb-1\">Long Term (6+ months)</h4>\n                        <p className=\"text-2xl font-bold text-white\">₹ {targetPrices.long_term}</p>\n                        <p className=\"text-xs text-gray-300\">\n                          Potential gain: \n                          <span className=\"text-green-400 font-semibold ml-1\">\n                            {((targetPrices.long_term - parseFloat(form.price)) / parseFloat(form.price) * 100).toFixed(2)}%\n                          </span>\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HoldStock;\n"],"names":[],"mappings":"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","debugId":null}}]
}